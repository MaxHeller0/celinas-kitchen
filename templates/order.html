{% extends "layout.html" %}

{% block title %}
  Order Details
{% endblock %}

{% block main %}
  <h1>
    {{ orderDetails[0][0] }}<br><br>
    <table class="table" id="orderTable">
       <thread>
         <tr>
            <th scope="col">Quantity</th>
            <th scope="col">Dish</th>
            <th scope="col">Unit Price</th>
            <th scope="col">Price</th>
          </tr>
        </thread>
      <tbody>
        <tr>
        {% for row in orderDetails[1] %}
        {% for cell in row.split(',') %}
          <td>{{cell}}</td>
        {% endfor %}
        </tr>
      {% endfor %}
        <tr>
          <form action="{{url_for('order')}}{{id}}" method="POST">
            <td>
              <input class="form-control" type="number" min="1" name="quantity" value="1">
            </td>
            <td>
              <input class="form-control" list="recipes" name="name" placeholder="Recipe Name" autofocus="True">
              <datalist name="recipes" id="recipes">
                {% if recipes %}
                {% for recipe in recipes %}
                <option value="{{recipe.name|title}}">
                  {% endfor %}
                  {% endif %}
              </datalist>
            </td>
            <td>
              <input class="form-control" type="number" min="0" name="price" placeholder="Override stored price">
            </td>
            <td>
              <button class="btn btn-default" type="submit">Add Item(s)</button>
            </td>
          </form>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <th scope="row">Total</th>
          <td>{{ orderDetails[2][0] }}</td>
        </tr>
      </tbody>
    </table>
  </h1>

{% endblock %}
